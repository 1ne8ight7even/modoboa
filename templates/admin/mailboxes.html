{% extends "admin/domains_header.html" %}
{% load i18n admin_extras %}
{% block pagetitle %}{% trans "Available mailboxes" %}{% endblock %}
{% block subcontent %}
<div id="objects" name="mailboxes" rel="310 320">
  {% if not mailboxes %}
  <div class="info">{% trans "No mailbox defined." %}</div>
  {% else %}
  <table id="objects_table">
    <tr>
      <th>{% trans "Address" %}</th>
      <th>{% trans "Name" %}</th>
      <th width="160px">{% trans "Created" %}</th>
      <th width="160px">{% trans "Last modified" %}</th>
      <th width="70px" class="center">{% trans "Aliases" %}</th>
      <th width="50px" class="center">{% trans "Quota" %}</th>
      <th width="50px" class="center">{{ "Enabled"|gender:"f" }}</th>
      <th width="70px" class="center">{% trans "Actions" %}</th>
    </tr>
    {% for mb in mailboxes %}
    <tr class="{% cycle 'odd' 'even' %}" id="{{ mb.id }}">
      <td>{{ mb.full_address }}</td>
      <td>{{ mb.name }}</td>
      <td>{{ mb.dates.creation }}</td>
      <td>{{ mb.dates.last_modification }}</td>
      <td class="center">{{ mb.alias_set.all|length }}</td>
      <td class="center">{{ mb.quota }} {% trans "MB" %}</td>
      <td class="center">{{ mb.user.is_active|yesno:_("yes,no") }}</td>
      <td class="center">{% mailbox_actions user mb %}</td>
    </tr>
    {% endfor %}
  </table>
  {% endif %}
</div>
{% endblock %}
