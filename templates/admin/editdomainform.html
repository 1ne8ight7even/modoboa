{% extends "common/generic_modal.html" %}{% load i18n libextras admin_extras %}
{% block modalbody %}
<ul class="nav nav-pills">
  <li class="active"><a href="#general" data-toggle="tab">{% trans "General" %}</a></li>
  <li><a href="#admins" data-toggle="tab">{% trans "Administrators" %}</a></li>
  <li><a href="#misc" data-toggle="tab">{% trans "Miscellaneous" %}</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane active" id="general">
    {% if error %}<div class="alert alert-error">{{ error }}</div>{% endif %}
    <form class="form-horizontal" action="{{ action }}" method="POST" id="{{ formid }}" name="{{ formid }}">
      {% render_field form.name %}
      {% render_field form.quota %}
      {% render_fields_group form "aliases" %}
      {% render_field form.enabled %}
    </form>
  </div>
  <div class="tab-pane" id="admins">{% if domadmins %}
    <table id="domadmins" class="table table-condensed">
      <tr><th>{% trans "Username" %}</th><th>{% trans "Name" %}</th><th></th></tr>
      {% for da in domadmins %}<tr>
        <td>{{ da.username }}</td><td>{{ da.fullname }}</td><td name="actions">{% domadmin_actions da.id domain.id %}</td>
      </tr>{% endfor %}
    </table>{% else %}<div class="alert alert-info">{% trans "No domain administrator defined" %}</div>{% endif %}
  </div>
  <div class="tab-pane" id="misc">
    <div class="row"><span class="title">{% trans "Creation date" %}</span><span>{{ domain.creation }}</<span></div>
    <div class="row"><span class="title">{% trans "Last modification date" %}</span><span>{{ domain.last_modification }}</<span></div>
    <div class="row"><span class="title">{% trans "Domain aliases" %}</span><span>{{ domain.domainalias_count }}</<span></div>
    <div class="row"><span class="title">{% trans "Mailboxes" %}</span><span>{{ domain.mailbox_count }}</<span></div>
    <div class="row"><span class="title">{% trans "Mailbox aliase" %}</span><span>{{ domain.mbalias_count }}</<span></div>
  </div>
</div>
{% endblock %}
