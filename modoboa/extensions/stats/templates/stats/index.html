{% extends "twocols.html" %}{% load i18n %}
{% block pagetitle %}{% trans "Graphical statistics" %}{% endblock %}
{% block html_head %}
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}stats/css/stats.css" />
<script type="text/javascript" src="{{ STATIC_URL }}js/history.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}stats/js/stats.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    var stats = new Stats({
        graphurl: "{% url modoboa.extensions.stats.views.graphs %}",
        deflocation: "{{ deflocation }}"
    });
});
</script>
{% endblock %}
{% block leftcol %}
<div id="periods" class="well sidebar-nav">
  <ul class="nav nav-list">
    <li class="nav-header">
      {% trans "Predefined time ranges" %}
    </li>
    {% for p in periods %}<li class="period">
      <a href="#" class="period_selector" data-period="{{ p.name }}">{% trans p.label %}</a>
    </li>
    {% endfor %}
    <li class="nav-header">
      {% trans "Custom time range" %}
    </li>
    <li>
      <form class="form-inline">
        <span id="custom-period">
          <div class="input-prepend">
            <span class="add-on"><i class="icon-indent-left"></i></span><input id="id_from" class="input-medium" name="date_from" value="{{ start }}" type="text" />
          </div>
          <div class="input-prepend">
            <span class="add-on"><i class="icon-indent-right"></i></span><input id="id_to" class="input-medium" name="date_to" value="{{ end }}" type="text" />
          </div>
          <button class="btn" id="customsend">{% trans "Apply" %}</button>
        </span>
      </form>
    </li>
  </ul>
</div>
{% endblock %}
{% block apparea %}
<div id="graphs" class="tabbable">
  <ul class="nav nav-tabs">
    <li class="active"><a href="#graphs_mailstats" data-toggle="tab">{% trans "Mail trafic" %}</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="graphs_mailstats"></div>
  </div>
</div>
{% endblock %}
 
